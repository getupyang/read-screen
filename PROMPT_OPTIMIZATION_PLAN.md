# 🎨 Prompt优化方案 - 完整思路讲解

## 📊 现状对比

### 当前Prompt（简化版）
```
分析这张截图，提取其中的关键信息。

要求：
1. 用中文输出
2. 提炼核心观点，不要只是复述文字
3. 如果有多个话题，分成多张卡片
4. 标题要吸引人，内容要通俗易懂
```

**问题**：
- ❌ 太泛泛，没有明确的"增量价值"要求
- ❌ 容易导致AI简单复述截图内容
- ❌ 没有具体案例引导
- ❌ 缺少质量标准

### 历史Prompt（高质量版）
- ✅ 有明确的"增量价值原则"
- ✅ 按内容类型给出具体要求
- ✅ 有检查清单
- ✅ 提供Few-Shot示例

---

## 🎯 核心理念：增量价值原则

### 用户心理模型
```
用户截图 = 对话题感兴趣，但懒得深入研究
AI价值 = 帮用户"喂到嘴边"，提供他们不知道的增量内容
```

### 什么是"增量价值"？

**反面案例（截图里有的）：**
```
截图内容：Kevin Weil，OpenAI产品负责人

❌ Bad输出：
"Kevin Weil是OpenAI的CPO，负责产品。"

问题：用户已经从截图知道了！
```

**正面案例（增量信息）：**
```
✅ Good输出：
"Kevin在Lenny's Podcast(2024年11月)讲了Sora的产品哲学：
'我们砍掉了所有时间轴、剪辑工具，因为工具越多，用户想象力越受限。'

可偷师的点：如果你在做AI产品，问自己——
用户需要调的每个参数，是不是都在暗示你的AI还不够智能？"

增量在哪？
1. 具体时间地点（Lenny's Podcast 2024年11月）
2. 具体案例（Sora砍掉工具的决策）
3. 背后哲学（工具越多限制越多）
4. 可行动建议（反问自己的产品）
```

---

## 📋 按内容类型的具体要求

### 类型1：推荐类（人物/工具/书籍）

**检查清单：**
- [ ] 是否只列出了名字和简介？→ 删掉！
- [ ] 是否提供了具体案例（时间、地点、事件）？
- [ ] 是否说明了"为什么值得关注"的深层原因？
- [ ] 是否提供了"如何获取/使用"的路径？

**示例对比：**

| 维度 | ❌ Bad | ✅ Good |
|------|--------|---------|
| 信息深度 | "Granola是会议笔记App" | "2024年10月发布，核心是'你的手写+AI补充'融合" |
| 产品哲学 | "功能很强大" | "原话：'We don't want to replace note-taking. We want to make your notes better'" |
| 技术细节 | "用了AI技术" | "你手写'跟进客户A'，AI自动补充'客户A在上次会议提到的3个需求'" |
| 可行动性 | "推荐使用" | "已上线granola.so可免费试用" |

### 类型2：概念解释类

**检查清单：**
- [ ] 是否只解释了概念定义？→ 不够！
- [ ] 是否提供了应用场景？
- [ ] 是否有现代启示（对当下的意义）？
- [ ] 是否有反常识点（打破常规认知）？
- [ ] 是否有可行动建议（用户看完能做什么）？

**示例：年味社会学**

| 层次 | 内容 |
|------|------|
| 概念定义 | "年味的本质是'集体欢腾'（Collective Effervescence）" |
| 理论出处 | "涂尔干《宗教生活的基本形式》1912年" |
| 具体条件 | "需要三个硬性条件：1)肉身聚集 2)动作同步 3)时间共享" |
| 现代启示 | "现代生活把这三个条件全毁了：身体在客厅，眼睛在手机" |
| 反常识点 | "年味没消失，只是转移到了演唱会、球赛现场" |
| 可行动建议 | "观察下次聚会时，有多少人在看手机" |

### 类型3：观点/案例类

**检查清单：**
- [ ] 是否只陈述了观点？→ 不够！
- [ ] 是否提供了论据支持？
- [ ] 是否有具体数据（数字/时间/地点）？
- [ ] 是否考虑了反例（什么情况下不成立）？
- [ ] 是否有"如何应用"的建议？

---

## 🎯 信息深度优先级（重要！）

AI在生成内容时，应该按这个优先级排序：

```
1. 具体案例 > 抽象描述
   ✅ "Kevin在Lenny's Podcast说..."
   ❌ "Kevin是知名产品经理"

2. 可验证细节（时间、地点、出处、数据）> 泛泛而谈
   ✅ "2024年11月，Sora砍掉了所有参数调节"
   ❌ "Sora做了很多优化"

3. 可行动建议 > 纯理论
   ✅ "问自己：用户需要调的每个参数，是不是暗示AI不够智能？"
   ❌ "这是很好的设计理念"

4. 反常识洞察 > 常识复述
   ✅ "年味没消失，只是转移到演唱会了"
   ❌ "年味变淡了"

5. 技术实现细节 > 只说"很厉害"
   ✅ "CSS的radial-gradient配合贝塞尔曲线，调了300次参数"
   ❌ "Linear的动画效果很好"
```

---

## 📚 Few-Shot示例设计

### 为什么需要Few-Shot？

人类标注的案例（`卡片设计方案.csv`）展示了**理想输出**，但AI不会自动达到这个水平。

Few-Shot示例的作用：
1. **展示标准**：什么是好的输出
2. **对比学习**：好坏案例对比
3. **具体化要求**：把抽象原则变成具体范例

### 示例结构设计

```json
{
  "category": "推荐类",
  "screenshot_content": "列出6个硅谷Builder：Kevin Weil、Granola创始人...",
  "bad_output_example": "只列出人名和职位（复述截图）",
  "good_output_example": {
    // 完整的高质量JSON卡片
    "title": "硅谷Builder的产品秘诀",
    "sections": [
      {
        "type": "example",
        "title": "Kevin Weil：速度是新护城河",
        "content": "具体案例+产品哲学+可偷师的点"
      }
    ]
  },
  "why_good": [
    "提供了具体时间地点（Lenny's Podcast 2024年11月）",
    "说明了具体产品决策（砍掉所有参数）",
    "提供了可行动建议（反问自己的产品）",
    "有技术实现细节（granola.so可试用）"
  ]
}
```

### 选择哪些示例？

从`卡片设计方案.csv`中选3个典型案例：

1. **推荐类**：IMG_2221.PNG（硅谷Builder）
   - 展示如何从"人名列表"提炼出深度产品洞察

2. **概念解释类**：年味社会学.PNG
   - 展示如何从"社会现象"提炼出理论框架+现代启示

3. **产品细节类**：Kevin Weil的Sora案例
   - 展示如何提供具体案例+哲学+可行动建议

---

## 🔄 Prompt结构设计

### 完整结构（分层设计）

```markdown
# 第一层：角色定义
你是一个"碎片知识提炼专家"

# 第二层：用户心理模型
用户截图 = 感兴趣但懒得研究
你的价值 = 提供增量信息

# 第三层：核心原则（增量价值）
⚠️ 不是复述，而是提供深度信息！

# 第四层：按类型的具体要求
1. 推荐类 → 具体案例+产品哲学+可行动建议
2. 概念解释类 → 理论出处+现代启示+可行动建议
3. 观点类 → 论据+数据+反例+如何应用

# 第五层：信息深度优先级
具体案例 > 抽象描述
可验证细节 > 泛泛而谈
...

# 第六层：检查清单
- [ ] 我提供的内容，用户能从截图直接看到吗？
- [ ] 我有没有给出具体案例？
...

# 第七层：Few-Shot示例
## 示例1：推荐类（展示好坏对比）
...

# 第八层：输出格式要求
严格JSON Schema
```

---

## 🎯 实施方案

### 阶段1：优化Prompt文本（今天）

1. **迁移核心原则**
   - 从`main.py`迁移"增量价值原则"到TypeScript
   - 调整语言风格（更口语化）

2. **添加Few-Shot示例**
   - 从CSV选3个最佳案例
   - 构造好坏对比
   - 说明"为什么好"

3. **强化检查清单**
   - 5个关键自检问题
   - 放在Prompt末尾

### 阶段2：测试验证（明天）

1. **用真实截图测试**
   - 解压`截屏.zip`
   - 选5张典型图片
   - 对比AI输出 vs. 人工标注（CSV）

2. **质量评分**
   - 使用`数据标注与质量标准.md`的评分标准
   - 目标：总分 ≥ 7分（及格线）

3. **迭代优化**
   - 记录Bad Cases
   - 调整Prompt
   - 再次测试

### 阶段3：持续优化（本周）

1. **建立评估流程**
   - 每天上传5-10张真实截图
   - 人工评分
   - 收集Bad Cases

2. **Prompt版本管理**
   - v1.0: 当前简化版
   - v2.0: 增量价值版（今天）
   - v2.1+: 基于反馈迭代

3. **Few-Shot库扩充**
   - 积累优质案例
   - 按内容类型分类
   - 定期更新示例

---

## 💡 关键成功要素

### 1. 明确的"增量价值"定义

不要让AI猜，要明确告诉它：
- ✅ 什么是增量（具体案例、时间地点、可行动建议）
- ❌ 什么不是增量（复述截图、泛泛而谈、只说"很厉害"）

### 2. 具体化而非抽象化

**抽象原则**：
"提供深度内容" ❌ AI不知道什么是深度

**具体要求**：
"提供具体时间地点（如：Lenny's Podcast 2024年11月）" ✅ AI知道怎么做

### 3. 用对比学习

不要只展示Good，要展示Bad vs. Good：
```
❌ Bad: "Kevin Weil是OpenAI的CPO"
✅ Good: "Kevin在Lenny's Podcast(2024年11月)讲了..."

为什么Good？因为提供了时间、地点、具体内容
```

### 4. 多层次验证

Prompt不是一次性的，需要：
1. 写Prompt
2. 测试
3. 发现问题
4. 调整Prompt
5. 再测试
→ 循环迭代

---

## 🚀 下一步行动

### 你可以决定：

**选项A：我直接实现高质量Prompt**
- 按照上述方案
- 迁移main.py的逻辑到TypeScript
- 添加3个Few-Shot示例
- 预计30分钟完成
- **然后立即测试**

**选项B：我们一起讨论细节**
- 你先看看这个方案
- 提出你的想法和调整建议
- 我们共创最佳方案
- **然后一起实现**

**选项C：先快速测试现状**
- 用当前简化Prompt测试几张真实图片
- 看看具体差在哪里
- **基于实际问题针对性优化**

---

## 📊 预期效果

### 优化前（当前）
- 能识别内容
- 能提炼观点
- 但可能简单复述
- 缺少深度信息

### 优化后（目标）
- ✅ 提供增量信息（用户不知道的）
- ✅ 有具体案例（时间地点人物事件）
- ✅ 有可行动建议（用户能做什么）
- ✅ 达到人工标注水平（CSV案例）

### 评分标准（总分10分）

```
增量价值（50%）:  当前 3分 → 目标 8分
可行动性（30%）:  当前 4分 → 目标 8分
结构清晰度（20%）: 当前 7分 → 目标 9分

总分：当前 4.1分 → 目标 8.1分（超过及格线7分）
```

---

**你想选哪个选项？或者有其他想法？** 🤔
